const WS_URL = "https://remnant-multiplayer-server-1.onrender.com"; // replace with Render URL
const ws = new WebSocket(WS_URL);

ws.onopen = () => console.log("Connected to multiplayer server!");
ws.onerror = (e) => console.error("WebSocket failed:", e);

function joinSession(sessionId) {
    ws.send(JSON.stringify({ type: 'join', session: sessionId }));
}

function broadcast(data) {
    ws.send(JSON.stringify({ type: 'broadcast', payload: data }));
}

ws.onmessage = (event) => {
    const data = JSON.parse(event.data);
    if(data.type === 'update') console.log('Players in session:', data.players);
    if(data.type === 'message') console.log('Received message:', data.payload);
};
